<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CD di Leo 1</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f5f5f5;
      margin: 0;
      padding: 100px 30px 30px;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
    }

    .site-title {
      position: fixed;
      top: 20px;
      left: 20px;
      font-size: 32px;
      font-weight: bold;
      color: #222;
      z-index: 1000;
      user-select: none;
    }

    .album-container {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 24px;
      justify-content: center;
      width: 100%;
      max-width: 800px;
    }

    .music-card-wrapper {
      position: relative;
    }

    .song-number {
      position: absolute;
      top: -15px;
      right: 15px;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: white;
      color: black;
      font-weight: bold;
      font-size: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      z-index: 10;
      user-select: none;
    }

    .music-card {
      width: 350px;
      height: 350px;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
      background-image: url('img/Copertina1.jpeg');
      background-size: cover;
      background-position: center;
      overflow: hidden;
      position: relative;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
    }

    .overlay {
      background: rgba(0, 0, 0, 0.6);
      padding: 10px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .song-title {
      color: white;
      font-size: 18px;
      text-align: center;
      margin: 0;
      user-select: none;
    }

    .controls {
      display: flex;
      align-items: center;
      gap: 10px;
      background: rgba(255, 255, 255, 0.1);
      padding: 8px;
      border-radius: 8px;
    }

    .control-btn {
      background: none;
      border: none;
      font-size: 18px;
      color: #f0f0f0;
      cursor: pointer;
      transition: color 0.3s ease;
      user-select: none;
    }

    .control-btn:hover {
      color: #ffffff;
    }

    .seek {
      appearance: none;
      flex-grow: 1;
      height: 4px;
      background: #aaa;
      border-radius: 2px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .seek:hover {
      background: #ccc;
    }

    .seek::-webkit-slider-thumb {
      appearance: none;
      width: 12px;
      height: 12px;
      background: #f0f0f0;
      border-radius: 50%;
      cursor: pointer;
    }

    .volume-wrapper {
      position: relative;
      display: flex;
      align-items: center;
    }

    .volume-slider {
      display: none;
      position: absolute;
      bottom: 35px;
      left: 50%;
      transform: translateX(-50%) rotate(180deg);
      writing-mode: bt-lr;
      -webkit-appearance: slider-vertical;
      width: 8px;
      height: 60px;
      background: #aaa;
      border-radius: 2px;
      cursor: pointer;
      user-select: none;
    }

    .volume-slider::-webkit-slider-thumb {
      appearance: none;
      width: 12px;
      height: 12px;
      background: #f0f0f0;
      border-radius: 50%;
      cursor: pointer;
    }

    .volume-wrapper.active .volume-slider {
      display: block;
    }

    /* Bottone pagina successiva */
    .next-page-btn {
      width: 350px;
      height: 350px;
      border-radius: 16px;
      background: linear-gradient(135deg, #ff6a00, #ee0979);
      color: white;
      font-size: 24px;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
      transition: transform 0.3s ease;
    }

    .next-page-btn:hover {
      transform: scale(1.05);
    }

    @media screen and (max-width: 768px) {
      .album-container {
        grid-template-columns: 1fr;
        max-width: 100%;
        padding: 0 20px;
      }
      .music-card, .next-page-btn {
        width: 300px;
        height: 300px;
      }
      .song-title {
        color: black;
      }
    }
  </style>
</head>
<body>
  <div class="site-title">CD di Leo 1</div>
  <div class="album-container" id="album-container"></div>

  <script>
    const container = document.getElementById('album-container');
    const titles = [
      "44 Gatti", "Il ballo del Qua Qua", "I due Liocorni", "Il Valzer del Moscerino",
      "Le Tagliatelle di Nonna Pina", "Ci vuole un fiore", "La Macchina del Capo", "Popoff", "Il coccodrillo come fa", "Il KATALICAMMELLO",
      "Il caff√® della Peppina", "The Lion Sleeps Tonight", "La Tartaruga", "Il lungo, il corto e il pacioccone", "Se sei felice tu lo sai batti le mani",
      "Whiskey il ragnetto", "Il gatto puzzolone", "La sveglia birichina", "L'elefante si dondolava", "Mi scappa la pip√¨",
      "Nella vecchia fattoria", "I tre porcellini", "I bambini fanno ooh"
    ];

    for (let i = 1; i <= 24; i++) {
      const wrapper = document.createElement('div');
      wrapper.className = 'music-card-wrapper';

      if (i <= 23) {
        const number = document.createElement('div');
        number.className = 'song-number';
        number.textContent = i;

        const card = document.createElement('div');
        card.className = 'music-card';

        card.innerHTML = `
          <div class="overlay">
            <audio id="audio${i}" src="audio/${i}.mp3"></audio>
            <div class="controls">
              <button onclick="togglePlay('audio${i}', this)" class="control-btn">‚ñ∂Ô∏è</button>
              <input type="range" class="seek" id="seek${i}" value="0" min="0" max="100"
                oninput="seekAudio('audio${i}', this.value)" />
              <div class="volume-wrapper">
                <button onclick="toggleVolume(this)" class="control-btn">üîä</button>
                <input type="range" class="volume-slider" min="0" max="1" step="0.01" value="1"
                  oninput="setVolume('audio${i}', this.value)" />
              </div>
              <button onclick="toggleFullscreen(this)" class="control-btn">‚õ∂</button>
            </div>
          </div>
        `;

        const title = document.createElement('p');
        title.className = 'song-title';
        title.textContent = titles[i - 1];

        card.appendChild(title);
        wrapper.appendChild(number);
        wrapper.appendChild(card);
      } else {
        // Quadrato 24: bottone per pagina successiva
        const link = document.createElement('a');
        link.href = "cd2.html";
        link.className = "next-page-btn";
        link.textContent = "CD 2 ‚Üí";
        wrapper.appendChild(link);
      }

      container.appendChild(wrapper);
    }

    function togglePlay(audioId, button) {
      const audio = document.getElementById(audioId);
      if (audio.paused) {
        document.querySelectorAll('audio').forEach(a => a.pause());
        document.querySelectorAll('.control-btn').forEach(b => {
          if (b.textContent === '‚è∏Ô∏è') b.textContent = '‚ñ∂Ô∏è';
        });
        audio.play();
        button.textContent = '‚è∏Ô∏è';
      } else {
        audio.pause();
        button.textContent = '‚ñ∂Ô∏è';
      }
      audio.ontimeupdate = () => {
        const seekBar = document.getElementById(`seek${audioId.replace('audio', '')}`);
        if (seekBar && audio.duration) {
          seekBar.value = (audio.currentTime / audio.duration) * 100 || 0;
        }
      };
    }

    function seekAudio(audioId, value) {
      const audio = document.getElementById(audioId);
      if (audio.duration) {
        audio.currentTime = (audio.duration * value) / 100;
      }
    }

    function setVolume(audioId, value) {
      document.getElementById(audioId).volume = value;
    }

    function toggleVolume(button) {
      const wrapper = button.parentElement;
      document.querySelectorAll('.volume-wrapper.active').forEach(el => {
        if (el !== wrapper) el.classList.remove('active');
      });
      wrapper.classList.toggle('active');
    }

    function toggleFullscreen(button) {
      const card = button.closest('.music-card');
      if (!document.fullscreenElement) {
        card.requestFullscreen?.() || card.webkitRequestFullscreen?.() || card.msRequestFullscreen?.();
      } else {
        document.exitFullscreen();
      }
    }

    document.addEventListener('click', (e) => {
      if (!e.target.closest('.volume-wrapper')) {
        document.querySelectorAll('.volume-wrapper.active').forEach(el => el.classList.remove('active'));
      }
    });
  </script>
</body>
</html>


